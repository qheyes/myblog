(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61d198c8"],{"42d9":function(e,t,r){"use strict";var a=r("7fc8"),n=r.n(a);n.a},"444a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"userLogin"},[r("van-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[r("van-tab",{attrs:{title:"登录"}},[r("van-cell-group",[r("van-field",{attrs:{required:"",clearable:"",label:"用户名","right-icon":"question-o",placeholder:"请输入用户名"},model:{value:e.username,callback:function(t){e.username="string"===typeof t?t.trim():t},expression:"username"}}),r("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码",required:""},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}})],1),r("van-button",{attrs:{type:"primary",size:"large",disabled:!e.isVaild},on:{click:e.login}},[e._v("\n        登录\n      ")])],1),r("van-tab",{attrs:{title:"注册"}},[r("van-cell-group",[r("van-field",{attrs:{required:"",clearable:"",label:"用户名","right-icon":"question-o",placeholder:"用户名不能小于4位"},model:{value:e.username,callback:function(t){e.username="string"===typeof t?t.trim():t},expression:"username"}}),r("van-field",{attrs:{type:"password",label:"密码",placeholder:"密码不能小于4位",required:""},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}})],1),r("van-button",{attrs:{type:"primary",size:"large",disabled:!e.isVaild},on:{click:e.register}},[e._v("\n        注册\n      ")])],1)],1),r("p",{staticClass:"toast"},[e._v("只有输入正确格式才能点击哟~")])],1)},n=[],s=(r("a481"),r("96cf"),r("3b8d")),i={name:"UserLogin",data:function(){return{active:0,username:"",password:""}},computed:{isVaild:function(){return String(this.username).length>4&&String(this.password).length>4}},methods:{login:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.username,r=this.password,e.next=4,this.$http.post("login",{username:t,password:r});case 4:a=e.sent,this.Cookies.set("token",a.data.token,{expires:7}),this.Cookies.set("userID",a.data._id,{expires:7}),this.username="",this.password="",this.$notify({type:"success",message:"登录成功"}),this.$router.replace("/");case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),register:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.username,r=this.password,e.next=4,this.$http.post("register",{username:t,password:r});case 4:if(a=e.sent,this.username="",this.password="",!a.data.error){e.next=12;break}return this.$toast("用户名已存在"),e.abrupt("return");case 12:this.$toast("注册成功,请登录");case 13:this.active=0;case 14:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},o=i,c=(r("42d9"),r("2877")),u=Object(c["a"])(o,a,n,!1,null,"4f1c1d22",null);t["default"]=u.exports},"7fc8":function(e,t,r){},a481:function(e,t,r){"use strict";var a=r("cb7c"),n=r("4bf8"),s=r("9def"),i=r("4588"),o=r("0390"),c=r("5f1b"),u=Math.max,l=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};r("214f")("replace",2,function(e,t,r,f){return[function(a,n){var s=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,s,n):r.call(String(s),a,n)},function(e,t){var n=f(r,e,this,t);if(n.done)return n.value;var d=a(e),p=String(this),v="function"===typeof t;v||(t=String(t));var m=d.global;if(m){var b=d.unicode;d.lastIndex=0}var w=[];while(1){var k=c(d,p);if(null===k)break;if(w.push(k),!m)break;var x=String(k[0]);""===x&&(d.lastIndex=o(p,s(d.lastIndex),b))}for(var y="",$=0,S=0;S<w.length;S++){k=w[S];for(var q=String(k[0]),_=u(l(i(k.index),p.length),0),C=[],I=1;I<k.length;I++)C.push(h(k[I]));var R=k.groups;if(v){var j=[q].concat(C,_,p);void 0!==R&&j.push(R);var A=String(t.apply(void 0,j))}else A=g(q,p,_,C,R,t);_>=$&&(y+=p.slice($,_)+A,$=_+q.length)}return y+p.slice($)}];function g(e,t,a,s,i,o){var c=a+e.length,u=s.length,l=v;return void 0!==i&&(i=n(i),l=p),r.call(o,l,function(r,n){var o;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(c);case"<":o=i[n.slice(1,-1)];break;default:var l=+n;if(0===l)return r;if(l>u){var p=d(l/10);return 0===p?r:p<=u?void 0===s[p-1]?n.charAt(1):s[p-1]+n.charAt(1):r}o=s[l-1]}return void 0===o?"":o})}})}}]);
//# sourceMappingURL=chunk-61d198c8.6c50aac5.js.map